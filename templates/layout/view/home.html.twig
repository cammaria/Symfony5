{% extends 'base.html.twig' %}

{% block body %}
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase " id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">Mon Event</a>
      <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">Inscription</a>
          </li>
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

   <!-- Contact Section -->
  <section id="contact">
    <div class="container">
      <h2 class="text-center text-uppercase text-secondary mb-0">Inscription</h2>
      <hr class="star-dark mb-5">
      <div class="row">
        <div class="col-lg-8 mx-auto">
		
			<div class="response"></div>
		
			{{ form_start(form) }}
			<div class="control-group">
              <div class="form-group floating-label-form-group controls mb-0 pb-2">
				{{ form_widget(form.gender, {'attr': {'class': 'form-control'}}) }}
              </div>
            </div>  
			<div class="control-group">
				<div class="form-group floating-label-form-group controls mb-0 pb-2">
					<label>Nom</label>
					{{ form_widget(form.lastName, {'attr': {'class': 'form-control'}}) }}
					<p class="help-block text-danger">{{ form_errors(form.lastName) }}</p>
				</div>
			</div>
			<div class="control-group">
				<div class="form-group floating-label-form-group controls mb-0 pb-2">
					<label>Prénom</label>
					{{ form_widget(form.firstName, {'attr': {'class': 'form-control'}}) }}
					<p class="help-block text-danger">{{ form_errors(form.firstName) }}</p>
				</div>
			</div>
			<div class="control-group">
				<div class="form-group floating-label-form-group controls mb-0 pb-2">
					<label>Email</label>
					{{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
					<p class="help-block text-danger">{{ form_errors(form.email) }}</p>
				</div>
			</div>
			<div class="control-group">
				<div class="form-group floating-label-form-group controls mb-0 pb-2">
					<label>Téléphone</label>
					{{ form_widget(form.telephone, {'attr': {'class': 'form-control'}}) }}
					<p class="help-block text-danger">{{ form_errors(form.telephone) }}</p>
				</div>
			</div>
			<div class="control-group">
				<div class="form-group floating-label-form-group controls mb-0 pb-2">
					<label>Newsletter</label>
					{{ form_widget(form.newsletter) }} Inscription à la Newsletter
				</div>
			</div>
			<br>
            <div id="success"></div>
			<div class="form-group">
				<input type='submit' class="btn btn-primary btn-xl" value='Send'>
            </div>
			{{ form_end(form) }}
			
        </div>
      </div>
    </div>
  </section>


  <!-- About Section -->
  <section class="bg-primary text-white mb-0" id="about">
    <div class="container">
      <h2 class="text-center text-uppercase text-white">About</h2>
      <hr class="star-light mb-5">
      <div class="row">
        <div class="col-lg-4 ml-auto">
          <p class="lead">Viens on est bien ! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
        <div class="col-lg-4 mr-auto">
          <p class="lead">Ca sera super ! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
      </div>
      <div class="text-center mt-4">
        <a class="btn btn-xl btn-outline-light" href="#">
          <i class="fas fa-download mr-2"></i>
          Télécharger le flyer
        </a>
      </div>
    </div>
  </section>

 

  <!-- Footer -->
  <footer class="footer text-center">
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Adresse</h4>
          <p class="lead mb-0">IUT 
            <br>Le Puy en Velay</p>
        </div>
        <div class="col-md-4 mb-5 mb-lg-0">
          
        </div>
        <div class="col-md-4">
          <h4 class="text-uppercase mb-4">About Freelancer</h4>
          <p class="lead mb-0">Freelance is a free to use, open source Bootstrap theme created by
            <a href="http://startbootstrap.com">Start Bootstrap</a>.</p>
        </div>
      </div>
    </div>
  </footer>

  <div class="copyright py-4 text-center text-white">
    <div class="container">
      <small>Copyright &copy; Mon Event 2019</small>
    </div>
  </div>

  <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
  <div class="scroll-to-top d-lg-none position-fixed ">
    <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>

{% endblock %}
{% block javascripts %}
<script>
$(document).ready(function() {
	$("form").on('submit', function(event) {
    event.preventDefault();

		var data = {
			'gender' : $("#create_user_gender").val(),
			'firstName' : $('#create_user_firstName').val(),
			'lastName' : $('#create_user_lastName').val(),
			'email' : $('#create_user_email').val(),
			'telephone' : $('#create_user_telephone').val(),
			'newsletter' : $('#create_user_newsletter').val(),
		};
		$.ajax({
			type: "POST",
			url: "{{ path('home.ajax') }}",
			data: data,
			success : function(response){
				$('.response').text(response);
        $("form").get(0).reset();
			},
			error : function(response) {
				$('.response').text(response['message']);
			}
		});
	})
});
</script>
{% endblock %}